<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sarmitha | AI Chat Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <a href="mailto:sarmi8822@gmail.com?subject=Hiring%20Inquiry&body=Hello%20Sarmitha,%0D%0AI%20am%20interested%20in%20working%20with%20you." 
   class="top-button" id="hireMeBtn">
  Hire Me
</a>
<button class="top-button right" id="like-btn">
  Like <span id="like-count">{{ like_count }}</span>
</button>


  <div class="main-area">
    <div id="intro">
      <div class="typewriter-container">
        <div id="typewriter" class="typewriter-text"></div>
      </div>
      <div id="avatar-wrapper">
        <model-viewer
        id="avatar-model"
        src="static/m.glb"
        alt="Animated Avatar"
        autoplay
        disable-zoom
        disable-pan
        camera-controls
        interaction-prompt="none"
        camera-orbit="0deg 90deg 2m"
        auto-rotate="false"
        environment-image="neutral"
        shadow-intensity="1"
        style="width: 200px; height: 363px;"
        animation-name="Armature|mixamo.com|Layer0.001"  
      ></model-viewer>
      
  </div>
      

    </div>
    <div id="chatbox" class="chat-container">
      <div id="chat"></div>
    </div>
    <div class="input-area-top">
      <input id="input" placeholder="Just Ask..." />
      <button class="send-btn" onclick="send()">➤</button>
    </div>
    
    <div class="quick-buttons">
      <button id="homeBtn" class="home-btn">
        <i class="fa fa-home"></i> Home
      </button>
      <button onclick="quick('tell me about you')">
        <i class="fas fa-user"></i> Me
      </button>
      <button onclick="quick('What projects have you done?')">
        <i class="fas fa-code"></i> Projects
      </button>
      <button onclick="quick('What are your technical skills?')">
        <i class="fas fa-laptop-code"></i> Skills
      </button>
      <button onclick="quick('How can I contact you?')">
        <i class="fas fa-envelope"></i> Contact
      </button>
      <a href="static/resume.pdf" download style="text-decoration: none;">
        <button>
          <i class="fas fa-file-alt"></i> Resume
        </button>
      </a>
      
    </div>
    
  </div>

  <!-- Modal Structure -->
  <div class="modal" id="modal-pneumonia">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modal-pneumonia')">&times;</span>
      <h2>Pneumonia Detection using AI</h2>
      <p>Developed an ensemble deep learning system combining Simple CNN, MobileNetV2, and EfficientNetB0 to classify chest X-ray images into NORMAL and PNEUMONIA. Deployed as a Streamlit web application with Grad-CAM visualizations for model explainability.</p>
      <h3>Training Strategy</h3>
      <ul>
        <li><strong>Simple CNN:</strong> Achieved ~94.2% accuracy with AUC ~0.9848 after tuning.</li>
        <li><strong>MobileNetV2:</strong> Reached ~95.2% accuracy, AUC ~0.9925 with transfer learning.</li>
        <li><strong>EfficientNetB0:</strong> Achieved 94.7% accuracy, AUC ~0.9874 using two-phase training.</li>
        <li><strong>Ensemble:</strong> Weighted averaging of predictions improved confidence.</li>
      </ul>
      <h3>Model Performance</h3>
      <ul>
        <li><strong>Accuracy:</strong> 96%</li>
        <li><strong>AUC:</strong> 0.9941</li>
        <li><strong>Precision:</strong> NORMAL 96%, PNEUMONIA 96%</li>
        <li><strong>Recall:</strong> NORMAL 95%, PNEUMONIA 97%</li>
        <li><strong>F1 Score:</strong> NORMAL 95.5%, PNEUMONIA 96.5%</li>
      </ul>
      <h3>Tech Stack</h3>
      <p>Python, TensorFlow/Keras, Streamlit, OpenCV, Grad-CAM, NumPy</p>
      <h3>Links</h3>
      <a href="https://github.com/sarmi2325/Pneumonia_detection" target="_blank" >GitHub</a> |
      <a href="https://pneumoniadetection-er8mvnqy9s9ejsr2g6wqjk.streamlit.app/" target="_blank" >Demo</a>
    </div>
  </div>
  <div class="modal" id="modal-churn">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modal-churn')">&times;</span>
      <h2>Churn Prediction System</h2>
      <p>Developed a predictive analytics system for telecom customer churn using linear models, tree-based models, and stacked ensemble learning. Deployed as a Streamlit application with SHAP-based model explainability.</p>
      <h3>Training Strategy</h3>
      <ul>
        <li>Logistic Regression (L2): Accuracy ~73%, AUC ~0.834</li>
        <li>SVM, Naive Bayes, KNN evaluated</li>
        <li>LightGBM (AUC ~0.86) outperformed</li>
        <li>Stacked ensemble: LR + LightGBM</li>
      </ul>
      <h3>Model Performance</h3>
      <ul>
        <li><strong>Accuracy:</strong> 79%</li>
        <li><strong>F1 (Churn):</strong> 55%</li>
        <li><strong>Recall (Churn):</strong> 49%</li>
        <li><strong>AUC:</strong> 0.834</li>
      </ul>
      <h3>Tech Stack</h3>
      <p>Python, Scikit-learn, LightGBM, XGBoost, SHAP, Streamlit</p>
      <h3>Links</h3>
      <a href="https://github.com/sarmi2325/Churn_Prediction_website" target="_blank">GitHub</a> |
      <a href="https://churnpredictionwebsite-nqmgbprqwncjztvksystgd.streamlit.app/" target="_blank">Demo</a>
    </div>
  </div>
  <div class="modal" id="modal-linear">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modal-linear')">&times;</span>
      <h2>Linear Algebra Visual Toolkit</h2>
      <p>Built a web-based toolkit using Python and Streamlit to visualize and solve linear algebra problems. Designed to help users bridge theoretical concepts with practical applications.</p>
  
      <h3>Key Features</h3>
      <ul>
        <li>Gaussian Elimination solver with step-by-step visualization</li>
        <li>2D/3D matrix transformation visualizer</li>
        <li>PCA implementation from scratch using eigen decomposition</li>
        <li>Real-time educational tool for exploring concepts interactively</li>
      </ul>
  
      <h3>Tech Stack</h3>
      <p>Python, Streamlit, NumPy, Plotly, Matplotlib</p>
  
      <h3>Links</h3>
      <a href="https://github.com/sarmi2325/Linear-Algebra-Visual-Toolkit" target="_blank">GitHub</a> |
      <a href="https://linear-algebra-visual-toolkit-pnrigscsyfkeaxxrkfhvgv.streamlit.app/" target="_blank">Demo</a>
    </div>
  </div>

  
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const avatar = document.getElementById('avatar-model');
      avatar.autoRotate = false;
      avatar.cameraControls = false; // optional, if needed
    });
  </script>
  
  <script>
    // Project titles and mapping to modal IDs
    const projects = {
      "Pneumonia Detection": true,
      "Churn Prediction": true,
      "Linear Algebra Visual Toolkit": true
    };
    const modalMap = {
      "Pneumonia Detection": "modal-pneumonia",
      "Churn Prediction": "modal-churn",
      "Linear Algebra Visual Toolkit": "modal-linear"
    };
  

    // Typewriter intro
    window.addEventListener('DOMContentLoaded', () => {
    const lines = [
      `Hi, I'm <span style="color:#3b82f6;font-weight:600;">Sarmitha</span>.`,
      `Wanna read my Resume?`,
      `Talk to it!`
    ];

    const el = document.getElementById('typewriter');

    const typeLine = (html, delay = 50) => {
      return new Promise(resolve => {
        // Create a temporary div to extract plain text for typing
        const temp = document.createElement('div');
        temp.innerHTML = html;
        const plain = temp.textContent;

        let i = 0;
        el.innerHTML = ''; // keep element, just clear content

        const typing = setInterval(() => {
          el.textContent = plain.substring(0, i + 1);
          i++;
          if (i === plain.length) {
            clearInterval(typing);
            el.innerHTML = html; // insert styled version after typing
            resolve();
          }
        }, delay);
      });
    };

    const loopTyping = async () => {
      while (true) {
        for (let line of lines) {
          await typeLine(line);
          await new Promise(res => setTimeout(res, 2000));
        }
      }
    };

    loopTyping();
    const input = document.getElementById('input');
  input.addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      event.preventDefault(); // Prevents newline in input
      send();
    }
  });
  });
  
    function hideIntro() {
      document.getElementById("intro").style.display = "none";
      document.getElementById("chatbox").style.display = "flex";

      const watermark = document.getElementById("watermark");
      const hireBtn = document.getElementById("hireMeBtn");
      if (watermark) watermark.style.display = "none";
      if (hireBtn) hireBtn.style.display = "none";

    }
  
    function appendChatBubble(sender, msg) {
      const chat = document.getElementById("chat");
      const bubble = document.createElement("div");
      bubble.className = "chat-bubble";
      bubble.innerHTML = `<strong>${sender}:</strong> ${msg}`;
      chat.appendChild(bubble);
      chat.scrollTop = chat.scrollHeight;
    }
  
    // Typewriter effect for AI responses (not used for formatted responses)
    function typewriterEffect(element, text, delay = 20, callback) {
      element.innerHTML = "";
      let i = 0;
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, delay);
        } else if (callback) {
          callback();
        }
      }
      type();
    }
  
    function clearChat() {
      const chat = document.getElementById("chat");
      chat.innerHTML = "";
    }
  
    function send() {
      const input = document.getElementById("input");
      const message = input.value.trim();
      if (!message) return;
  
      hideIntro();
      clearChat();
      appendChatBubble("You", message);
  
      // Show typing indicator
      const chat = document.getElementById("chat");
      const bubble = document.createElement("div");
      bubble.className = "chat-bubble";
      bubble.innerHTML = `
   <div class="typing-indicator">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
`;
      chat.appendChild(bubble);
      chat.scrollTop = chat.scrollHeight;
  
      // Send POST request to Flask backend
      fetch('/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
      })
      .then(res => res.json())
      .then(data => {
        bubble.innerHTML =  marked.parse(data.response); // Render HTML-formatted responses directly
        // Optionally, check for .glb model availability here to show the Hire Me button
        checkAndShowHireMe();
      })
      .catch(() => {
        bubble.innerHTML = "❌ Error contacting server";
      });
  
      input.value = '';
    }
  
function quick(msg) {
  hideIntro();
  clearChat();
  appendChatBubble("You", msg);
  const key = msg.toLowerCase().trim();

  if (key === "what projects have you done?") {
  const chat = document.getElementById("chat");

  // 1. Show static project cards
  const bubble = document.createElement("div");
  bubble.className = "chat-bubble";
  bubble.innerHTML = `
    <div class="projects-scroll-row bw-theme">
      <div class="project-card-bw" onclick="openModal('modal-pneumonia')">
        <div class="project-card-icon-bw">
          <img src="https://img.icons8.com/?size=100&id=nqZ1gKG3lOzH&format=png&color=000000" alt="Pneumonia Detection" />
        </div>
        <div class="project-card-content-bw">
          <h4>Pneumonia Detection</h4>
          <p>AI for Healthcare</p>
        </div>
      </div>
      <div class="project-card-bw" onclick="openModal('modal-churn')">
        <div class="project-card-icon-bw">
          <img src="https://img.icons8.com/?size=100&id=g6VjoUuWlyUr&format=png&color=000000" alt="Churn Prediction" />
        </div>
        <div class="project-card-content-bw">
          <h4>Churn Prediction</h4>
          <p>AI for Business</p>
        </div>
      </div>
      <div class="project-card-bw" onclick="openModal('modal-linear')">
        <div class="project-card-icon-bw">
          <img src="https://img.icons8.com/?size=100&id=fO1ly4q0lgd5&format=png&color=000000" alt="LA Visual Toolkit" />
        </div>
        <div class="project-card-content-bw">
          <h4>LA Visual Toolkit</h4>
          <p>Interactive Math & ML</p>
        </div>
      </div>
    </div>
  `;
  chat.appendChild(bubble);
  chat.scrollTop = chat.scrollHeight;

  // 2. Show typing indicator bubble immediately
  const typingBubble = document.createElement("div");
  typingBubble.className = "chat-bubble";
  typingBubble.id = "typing-indicator-bubble";
  typingBubble.innerHTML = `
    <div class="typing-indicator">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
`;
  chat.appendChild(typingBubble);
  chat.scrollTop = chat.scrollHeight;

  // 3. Fetch API, then replace typing indicator with response
  fetch('/chat', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message: "summarize 3 projects and ask follow-up" })
  })
  .then(res => res.json())
  .then(data => {
    typingBubble.innerHTML =  marked.parse(data.response);
  })
  .catch(() => {
    typingBubble.innerHTML = "Sorry, I couldn't fetch more info right now.";
  });
}

  

  // ... handle other keys as before ...
  else if (key === "what are your technical skills?") {
  const chat = document.getElementById("chat");

  // 1. Show static skills data
  const bubble = document.createElement("div");
  bubble.className = "chat-bubble";
  bubble.innerHTML = `
<div class="skills-section">
  <div class="skills-category">
    <h4>Programming Language:</h4>
    <div class="skills-list">
      <span class="skill-btn">Python <span class="skill-level">(Intermediate)</span></span>
    </div>
  </div>
  <div class="skills-category">
    <h4>ML Libraries & Tools:</h4>
    <div class="skills-list">
      <span class="skill-btn">NumPy</span>
      <span class="skill-btn">Pandas</span>
      <span class="skill-btn">Scikit-learn</span>
      <span class="skill-btn">Keras</span>
      <span class="skill-btn">SHAP</span>
      <span class="skill-btn">SMOTE</span>
      <span class="skill-btn">Grad-CAM</span>
    </div>
  </div>
  <div class="skills-category">
    <h4>Deployment & Frameworks:</h4>
    <div class="skills-list">
      <span class="skill-btn">Flask</span>
      <span class="skill-btn">Streamlit</span>
      <span class="skill-btn">Render</span>
      <span class="skill-btn">Git</span>
      <span class="skill-btn">Google Colab</span>
    </div>
  </div>
  <div class="skills-category">
    <h4>Soft Skills:</h4>
    <div class="skills-list">
      <span class="skill-btn">Continuous Learning</span>
      <span class="skill-btn">Communication</span>
      <span class="skill-btn">Creativity</span>
      <span class="skill-btn">Focus</span>
    </div>
  </div>
</div>


  `;
  chat.appendChild(bubble);
  chat.scrollTop = chat.scrollHeight;

  // 2. Show typing indicator bubble immediately
  const typingBubble = document.createElement("div");
  typingBubble.className = "chat-bubble";
  typingBubble.id = "typing-indicator-bubble";
  typingBubble.innerHTML = `
   <div class="typing-indicator">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
`;
  chat.appendChild(typingBubble);
  chat.scrollTop = chat.scrollHeight;

  // 3. Fetch API, then replace typing indicator with response
  fetch('/chat', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message: "summarize skills in three lines and ask follow-up" })
  })
  .then(res => res.json())
  .then(data => {
    typingBubble.innerHTML = marked.parse(data.response);
  })
  .catch(() => {
    typingBubble.innerHTML = "Sorry, I couldn't fetch more info right now.";
  });
}
else if (key === "how can i contact you?") {
  const chat = document.getElementById("chat");

  // 1. Show static contact cards
  const bubble = document.createElement("div");
  bubble.className = "chat-bubble";
  bubble.innerHTML = `
    <div class="profile-cards-scroll">
      <!-- Gmail Card -->
      <div class="profile-card">
        <img src="https://img.icons8.com/color/48/000000/gmail-new.png" alt="Gmail" class="profile-avatar">
        <h2>Sarmitha</h2>
        <p class="profile-username">sarmi8822@gmail.com</p>
        <p class="profile-bio">Feel free to reach out for collaborations, queries, or just to say hi!</p>
        <a href="mailto:sarmi8822@gmail.com" class="profile-link" target="_blank">
          <img src="https://img.icons8.com/color/30/000000/gmail-new.png" alt="Gmail" class="icon-inline"> Send Email
        </a>
      </div>
      <!-- LinkedIn Card -->
      <div class="profile-card">
        <img src="https://img.icons8.com/color/48/000000/linkedin.png" alt="LinkedIn" class="profile-avatar">
        <h2>Sarmitha</h2>
        <p class="profile-username">linkedin.com/in/sarmithas</p>
        <p class="profile-bio">Connect with me on LinkedIn for opportunities, networking, and collaboration!</p>
        <a href="https://linkedin.com/in/sarmithas" target="_blank" class="profile-link">
          <img src="https://img.icons8.com/color/30/000000/linkedin.png" alt="LinkedIn" class="icon-inline"> LinkedIn Profile
        </a>
      </div>
      <!-- GitHub Card -->
      <div class="profile-card">
        <img src="https://avatars.githubusercontent.com/u/00000000?v=4" alt="Sarmitha's GitHub" class="profile-avatar">
        <h2>Sarmitha</h2>
        <p class="profile-username">@sarmi2325</p>
        <p class="profile-bio">Lets Commit one at a time. Love learning & can't stop optimizing!</p>
        <a href="https://github.com/sarmi2325" target="_blank" class="profile-link">
          <img src="https://img.icons8.com/ios-filled/30/000000/github.png" alt="GitHub" class="icon-inline"> GitHub Profile
        </a>
      </div>
    </div>
  `;
  chat.appendChild(bubble);
  chat.scrollTop = chat.scrollHeight;

  // 2. Show typing indicator bubble immediately
  const typingBubble = document.createElement("div");
  typingBubble.className = "chat-bubble";
  typingBubble.id = "typing-indicator-bubble";
  typingBubble.innerHTML = `
     <div class="typing-indicator">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
`;
  chat.appendChild(typingBubble);
  chat.scrollTop = chat.scrollHeight;

  // 3. Fetch API, then replace typing indicator with response
  fetch('/chat', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message: "in a warm tone say about collaboration and working together in 2 lines in general.speak as a first person" })
  })
  .then(res => res.json())
  .then(data => {
    typingBubble.innerHTML =  marked.parse(data.response);
  })
  .catch(() => {
    typingBubble.innerHTML = "Sorry, I couldn't fetch more info right now.";
  });
}
else if (key === "tell me about you") { 
  const chat = document.getElementById("chat");

  // 1. Create and append the bubble with static profile info
  const bubble = document.createElement("div");
  bubble.className = "chat-bubble";
  bubble.innerHTML = `
    <div class="profile-header">
      <div class="profile-photo">
        <img src="/static/s.jpeg" alt="Sarmitha" width="200" height="300" loading="lazy">
      </div>
      <div class="profile-intro">
        <h1>Sarmitha</h1>
        <div class="profile-meta">
          <span>21 years old</span> · <span>Tamil Nadu, India</span>
        </div>
        <p>
          <strong>Hey 👋</strong><br>
          I'm Sarmitha, a developer passionate about AI and ML. It all started with the curiosity of how could a machine learn 😅. Love to learn, build and optimize AI solutions.
        </p>
      </div>
    </div>
  `;
  chat.appendChild(bubble);
  chat.scrollTop = chat.scrollHeight;

  // 2. Create and append the typing indicator bubble
  const typingBubble = document.createElement("div");
  typingBubble.className = "chat-bubble";
  typingBubble.id = "typing-indicator-bubble";
  typingBubble.innerHTML = `
     <div class="typing-indicator">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
`;
  chat.appendChild(typingBubble);
  chat.scrollTop = chat.scrollHeight;

  // 3. API call to get additional response
  fetch('/chat', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message: "Introduce yourself as sarmitha, tell 2 small 2 line paragraph about her and ask for follow up" })
  })
  .then(res => res.json())
  .then(data => {
    typingBubble.innerHTML =  marked.parse(data.response);
  })
  .catch(() => {
    typingBubble.innerHTML = "❌ Error fetching more info.";
  });
}
    }

  
    function openModal(id) {
      const modal = document.getElementById(id);
      if (modal) {
        modal.style.display = "block";
        checkAndShowHireMe(); // Check for .glb file when modal opens
      } else {
        console.error("Modal not found for id:", id);
      }
    }
  
    function closeModal(id) {
      const modal = document.getElementById(id);
      if (modal) {
        modal.style.display = "none";
      }
    }
  
    // Show "Hire Me" button only if .glb model file is available
    function checkAndShowHireMe() {
      const hireBtn = document.getElementById("hireMeBtn");
      const modelUrl = "/path/to/your/m.glb"; // Update with your actual .glb file path
      if (!hireBtn) return;
      fetch(modelUrl, { method: "HEAD" })
        .then(res => {
          if (res.ok) {
            hireBtn.style.display = "inline-block";
          } else {
            hireBtn.style.display = "none";
          }
        })
        .catch(() => {
          hireBtn.style.display = "none";
        });
    }
  
    window.onclick = function(event) {
      const modals = document.querySelectorAll('.modal');
      modals.forEach(modal => {
        if (event.target === modal) {
          modal.style.display = "none";
        }
      });
    };
    


// Home Button Functionality
document.addEventListener('DOMContentLoaded', () => {
  // Home Button logic
  const homeBtn = document.getElementById("homeBtn");
  homeBtn.addEventListener("click", () => {
    // Show intro and watermark if present
    const intro = document.getElementById("intro");
    const chatbox = document.getElementById("chatbox");
    const watermark = document.getElementById("watermark");
    const hireBtn = document.getElementById("hireMeBtn");

    if (intro) intro.style.display = "block";
    if (chatbox) chatbox.style.display = "none";
    if (watermark) watermark.style.display = "block";
    if (hireBtn) hireBtn.style.display = "inline-block"; // Will be shown by checkAndShowHireMe()

    // Hide all modals
    document.querySelectorAll('.modal').forEach(modal => {
      modal.style.display = "none";
    });
    clearChat();
    
  });
});

document.addEventListener("DOMContentLoaded", function() {
    const likeBtn = document.getElementById('like-btn');
    const likeCountSpan = document.getElementById('like-count');

    // Fetch and display the current like count on page load
    fetch('/like_status')
      .then(res => res.json())
      .then(data => {
          likeCountSpan.textContent = data.count;
      });

    // Handle like button click
    likeBtn.addEventListener('click', function() {
        fetch('/like', { method: 'POST' })
          .then(response => response.json())
          .then(data => {
              likeCountSpan.textContent = data.count;
              // Add a "liked" visual feedback
              likeBtn.classList.add('liked');
              // Change button content to show a pink heart or thumbs-up
              likeBtn.innerHTML = `🤍 Liked <span id="like-count">${data.count}</span>`;
          });
    });
});

  </script>
